<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
</head>

<body>

    <style>
        .racing {
            width: 800px;
            border-left: 1px solid black;
            border-right: 1px solid black;
        }

        .racing>div {
            margin-bottom: 15px;
        }

        .racing img {
            height: 50px;
            width: 50px;
            margin-left: 0;
            transition: all 1s linear;
        }
    </style>
    <h3>Cuộc đua kỳ thú</h3>
    <div class="racing">
        <div>
            <img id="tho" src="./assets/images/rabbit.jpg" />
        </div>
        <div>
            <img id="rua" src="./assets/images/turtle.png" />
        </div>
    </div>
    <div>
        <button id="start-racing">Start</button>
    </div>
    <script>
        $(document).ready(function () {
            $('#start-racing').on('click', function (e) {
                racingInterval=setInterval(function () {
                    run();
                    dung();
                }, 1000);
            });
        });

        function run() {
            var ruaSpeed = parseInt(Math.random() * 100);
            var thoSpeed = parseInt(Math.random() * 100);

            var ruaRoad = parseInt($('#rua').css('margin-left'));
            ruaRoad += ruaSpeed;
            $('#rua').css('margin-left', ruaRoad + "px");

            var thoRoad = parseInt($('#tho').css('margin-left'));
            thoRoad += thoSpeed;
            $('#tho').css('margin-left', thoRoad + "px");
        }

        function dung(){
            var ruaRoad=parseInt($('#rua').css('margin-left'));
            var thoRoad=parseInt($('#tho').css('margin-left'));

            if(ruaRoad>=750 && thoRoad <750){
                alert('Rùa thắng');
                clearInterval(racingInterval);
            }else if(thoRoad >=750&& ruaRoad <750){
                alert('Thỏ thắng');
                clearInterval(racingInterval);
            }else if (thoRoad >=750 && ruaRoad >=750){
                alert('Hòa');
                clearInterval(racingInterval);
            }
        }



    </script>

</body>

</html>